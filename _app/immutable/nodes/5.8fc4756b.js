import{S as Oe,i as Ue,s as He,a as T,k as p,q as X,y as te,c as V,l as h,m as y,h as r,r as Z,W as qe,z as se,n as d,X as de,R as oe,b as w,C as b,A as ae,D as ue,d as Q,f as Me,g as x,B as re,G as Ye,H as be,o as ze,J as ee,Y as Ge,Z as Pe,e as Ce,_ as Fe,v as Je,w as Ie,O as Ne,P as ce,F as ie}from"../chunks/index.487cb5f4.js";import{p as Ke}from"../chunks/stores.718ca0fe.js";import{A as We,a as Xe,b as Ze,c as Qe,S as xe,j as el,e as pe,s as he,d as ll,p as $e,f as tl,T as sl,g as ve,h as al,D as rl}from"../chunks/tabulator_esm.180f0122.js";import{a as W,c as Te,t as me,n as ol}from"../chunks/lastParsedTable.3e4bfe2b.js";import{m as Ve}from"../chunks/marked.esm.8a49593e.js";import{f as _e}from"../chunks/index.c71e4220.js";const{document:Le}=Ge;function il(o){let l,t,s,a,f,v,u,C=o[2]&&!o[2].includes("404"),I,G,g,F,N,O=o[10]&&o[10].newLeaderboards.find(o[14])!=null,H,A,L,q,M,Y,J,z=o[10]&&o[10].newColumns.find(o[13])!=null,U,S,K,n;t=new rl({props:{datasetName:null}});let c=o[1]&&o[0]&&Se(),_=C&&Be(o);function R(i,E){return i[0]==null?ul:fl}let P=R(o),B=P(o),k=O&&je(o),D=z&&Ae();return{c(){l=p("div"),te(t.$$.fragment),s=T(),c&&c.c(),a=T(),f=p("div"),v=T(),u=p("div"),_&&_.c(),G=T(),g=p("div"),F=p("div"),B.c(),N=T(),k&&k.c(),H=T(),A=p("div"),L=p("input"),q=T(),M=p("div"),Y=X("Double click on a row to see details"),J=T(),D&&D.c(),this.h()},l(i){l=h(i,"DIV",{class:!0});var E=y(l);se(t.$$.fragment,E),s=V(E),c&&c.l(E),a=V(E),f=h(E,"DIV",{class:!0}),y(f).forEach(r),v=V(E),u=h(E,"DIV",{class:!0});var ne=y(u);_&&_.l(ne),ne.forEach(r),E.forEach(r),G=V(i),g=h(i,"DIV",{id:!0,class:!0});var j=y(g);F=h(j,"DIV",{class:!0});var fe=y(F);B.l(fe),fe.forEach(r),N=V(j),k&&k.l(j),H=V(j),A=h(j,"DIV",{class:!0});var $=y(A);L=h($,"INPUT",{type:!0,class:!0,placeholder:!0,name:!0,id:!0}),q=V($),M=h($,"DIV",{class:!0});var e=y(M);Y=Z(e,"Double click on a row to see details"),e.forEach(r),$.forEach(r),J=V(j),D&&D.l(j),j.forEach(r),this.h()},h(){d(f,"class","divider w-[50%] mx-auto"),d(u,"class","prose text-justify mx-auto"),d(l,"class",""),d(F,"class","font-bold my-auto mx-20 text-2xl"),d(L,"type","text"),d(L,"class","input input-primary input-sm w-60 my-auto"),d(L,"placeholder","Filter ðŸ”Ž"),d(L,"name","filter"),d(L,"id","filter"),oe(L,"hidden",o[0]==null),d(M,"class","text-xs my-auto text-gray-600"),d(A,"class","flex space-x-4"),d(g,"id","leaderboard-header"),d(g,"class","flex justify-center my-4")},m(i,E){w(i,l,E),ae(t,l,null),b(l,s),c&&c.m(l,null),b(l,a),b(l,f),b(l,v),b(l,u),_&&_.m(u,null),w(i,G,E),w(i,g,E),b(g,F),B.m(F,null),b(g,N),k&&k.m(g,null),b(g,H),b(g,A),b(A,L),o[17](L),b(A,q),b(A,M),b(M,Y),b(g,J),D&&D.m(g,null),S=!0,K||(n=ue(L,"input",o[18]),K=!0)},p(i,E){i[1]&&i[0]?c||(c=Se(),c.c(),c.m(l,a)):c&&(c.d(1),c=null),E&4&&(C=i[2]&&!i[2].includes("404")),C?_?_.p(i,E):(_=Be(i),_.c(),_.m(u,null)):_&&(_.d(1),_=null),P===(P=R(i))&&B?B.p(i,E):(B.d(1),B=P(i),B&&(B.c(),B.m(F,null))),E&1536&&(O=i[10]&&i[10].newLeaderboards.find(i[14])!=null),O?k?k.p(i,E):(k=je(i),k.c(),k.m(g,H)):k&&(k.d(1),k=null),(!S||E&1)&&oe(L,"hidden",i[0]==null),E&1536&&(z=i[10]&&i[10].newColumns.find(i[13])!=null),z?D||(D=Ae(),D.c(),D.m(g,null)):D&&(D.d(1),D=null)},i(i){S||(x(t.$$.fragment,i),i&&Ne(()=>{S&&(I||(I=ce(l,_e,{},!0)),I.run(1))}),i&&Ne(()=>{S&&(U||(U=ce(g,_e,{},!0)),U.run(1))}),S=!0)},o(i){Q(t.$$.fragment,i),i&&(I||(I=ce(l,_e,{},!1)),I.run(0)),i&&(U||(U=ce(g,_e,{},!1)),U.run(0)),S=!1},d(i){i&&r(l),re(t),c&&c.d(),_&&_.d(),i&&I&&I.end(),i&&r(G),i&&r(g),B.d(),k&&k.d(),o[17](null),D&&D.d(),i&&U&&U.end(),K=!1,n()}}}function nl(o){let l,t,s;return{c(){l=p("div"),t=p("div"),s=p("span"),this.h()},l(a){l=h(a,"DIV",{class:!0});var f=y(l);t=h(f,"DIV",{class:!0});var v=y(t);s=h(v,"SPAN",{class:!0}),y(s).forEach(r),v.forEach(r),f.forEach(r),this.h()},h(){d(s,"class","loading loading-infinity loading-lg text-primary"),d(t,"class","flex justify-center"),d(l,"class","h-screen w-screen flex flex-col justify-center")},m(a,f){w(a,l,f),b(l,t),b(t,s)},p:ie,i:ie,o:ie,d(a){a&&r(l)}}}function Se(o){let l,t,s;return{c(){l=p("main"),t=p("h1"),s=X("Dataset: Systems"),this.h()},l(a){l=h(a,"MAIN",{class:!0});var f=y(l);t=h(f,"H1",{});var v=y(t);s=Z(v,"Dataset: Systems"),v.forEach(r),f.forEach(r),this.h()},h(){d(l,"class","prose text-justify mx-auto mt-16")},m(a,f){w(a,l,f),b(l,t),b(t,s)},d(a){a&&r(l)}}}function Be(o){let l,t,s;return{c(){l=new Pe(!1),t=T(),s=p("div"),this.h()},l(a){l=Fe(a,!1),t=V(a),s=h(a,"DIV",{class:!0}),y(s).forEach(r),this.h()},h(){l.a=t,d(s,"class","divider w-[50%] mx-auto")},m(a,f){l.m(o[2],a,f),w(a,t,f),w(a,s,f)},p(a,f){f&4&&l.p(a[2])},d(a){a&&l.d(),a&&r(t),a&&r(s)}}}function fl(o){let l;return{c(){l=X("Leaderboard")},l(t){l=Z(t,"Leaderboard")},m(t,s){w(t,l,s)},p:ie,d(t){t&&r(l)}}}function ul(o){let l,t,s,a,f,v;return{c(){l=X(`No Leaderboard for this dataset yet

				`),t=p("div"),s=p("button"),a=X("Submit a new leaderboard"),this.h()},l(u){l=Z(u,`No Leaderboard for this dataset yet

				`),t=h(u,"DIV",{class:!0});var C=y(t);s=h(C,"BUTTON",{class:!0});var I=y(s);a=Z(I,"Submit a new leaderboard"),I.forEach(r),C.forEach(r),this.h()},h(){d(s,"class","btn btn-accent btn-wide"),d(t,"class","flex justify-center")},m(u,C){w(u,l,C),w(u,t,C),b(t,s),b(s,a),f||(v=ue(s,"click",o[15]),f=!0)},p:ie,d(u){u&&r(l),u&&r(t),f=!1,v()}}}function je(o){let l,t,s,a,f;return{c(){l=p("div"),t=p("button"),s=X("Delete"),this.h()},l(v){l=h(v,"DIV",{class:!0});var u=y(l);t=h(u,"BUTTON",{class:!0});var C=y(t);s=Z(C,"Delete"),C.forEach(r),u.forEach(r),this.h()},h(){d(t,"class","btn btn-warning"),d(l,"class","my-auto mx-4")},m(v,u){w(v,l,u),b(l,t),b(t,s),a||(f=ue(t,"click",o[16]),a=!0)},p:ie,d(v){v&&r(l),a=!1,f()}}}function Ae(o){let l,t;return{c(){l=p("div"),t=X("Right click on your new column to delete it"),this.h()},l(s){l=h(s,"DIV",{class:!0});var a=y(l);t=Z(a,"Right click on your new column to delete it"),a.forEach(r),this.h()},h(){d(l,"class","mx-4 italic text-xs my-auto text-gray-400")},m(s,a){w(s,l,a),b(l,t)},d(s){s&&r(l)}}}function Re(o){let l,t;return{c(){l=new Pe(!1),t=Ce(),this.h()},l(s){l=Fe(s,!1),t=Ce(),this.h()},h(){l.a=t},m(s,a){l.m(o[3],s,a),w(s,t,a)},p(s,a){a&8&&l.p(s[3])},d(s){s&&r(t),s&&l.d()}}}function dl(o){let l,t,s,a,f,v,u,C,I,G,g,F,N,O,H,A,L,q,M,Y,J,z,U,S,K,n,c,_,R,P,B,k,D,i,E;const ne=[nl,il],j=[];function fe(e,m){return e[6]?0:1}l=fe(o),t=j[l]=ne[l](o);let $=o[3]&&Re(o);return S=new We({props:{dataset:"systems"}}),n=new Xe({props:{dataset:"systems"}}),_=new Ze({props:{dataset:"systems"}}),P=new Qe({props:{dataset:"systems"}}),k=new xe({}),{c(){t.c(),s=T(),a=p("div"),f=p("div"),v=p("div"),u=T(),C=p("div"),I=p("button"),G=X("+"),F=T(),N=p("div"),O=p("button"),H=X("+"),L=T(),q=p("div"),$&&$.c(),M=T(),Y=p("div"),J=T(),z=p("link"),U=T(),te(S.$$.fragment),K=T(),te(n.$$.fragment),c=T(),te(_.$$.fragment),R=T(),te(P.$$.fragment),B=T(),te(k.$$.fragment),this.h()},l(e){t.l(e),s=V(e),a=h(e,"DIV",{id:!0,class:!0});var m=y(a);f=h(m,"DIV",{class:!0});var le=y(f);v=h(le,"DIV",{}),y(v).forEach(r),le.forEach(r),u=V(m),C=h(m,"DIV",{class:!0});var we=y(C);I=h(we,"BUTTON",{class:!0});var ye=y(I);G=Z(ye,"+"),ye.forEach(r),we.forEach(r),m.forEach(r),F=V(e),N=h(e,"DIV",{class:!0});var ge=y(N);O=h(ge,"BUTTON",{class:!0});var ke=y(O);H=Z(ke,"+"),ke.forEach(r),ge.forEach(r),L=V(e),q=h(e,"DIV",{class:!0});var De=y(q);$&&$.l(De),De.forEach(r),M=V(e),Y=h(e,"DIV",{class:!0}),y(Y).forEach(r),J=V(e);const Ee=qe("svelte-1256386",Le.head);z=h(Ee,"LINK",{href:!0,rel:!0}),Ee.forEach(r),U=V(e),se(S.$$.fragment,e),K=V(e),se(n.$$.fragment,e),c=V(e),se(_.$$.fragment,e),R=V(e),se(P.$$.fragment,e),B=V(e),se(k.$$.fragment,e),this.h()},h(){d(f,"class","overflow-x-scroll w-full"),d(I,"class","btn btn-secondary h-full"),d(C,"class","mx-2 flex items-center justify-center bg-reg-400"),d(a,"id","leaderboard-wrapper"),d(a,"class",g=de(`w-[80%] mx-auto ${o[7]} flex`)+" svelte-1w85bai"),oe(a,"hidden",o[0]==null||o[8]==null),d(O,"class","btn btn-primary w-full"),d(N,"class",A=de(`my-2 w-[80%] mx-auto ${o[7]}`)+" svelte-1w85bai"),oe(N,"hidden",o[0]==null),d(q,"class","prose text-justify mx-auto"),d(Y,"class","my-20"),d(z,"href","https://unpkg.com/tabulator-tables@5.5.0/dist/css/tabulator_bootstrap5.min.css"),d(z,"rel","stylesheet")},m(e,m){j[l].m(e,m),w(e,s,m),w(e,a,m),b(a,f),b(f,v),o[19](v),b(a,u),b(a,C),b(C,I),b(I,G),w(e,F,m),w(e,N,m),b(N,O),b(O,H),w(e,L,m),w(e,q,m),$&&$.m(q,null),w(e,M,m),w(e,Y,m),w(e,J,m),b(Le.head,z),w(e,U,m),ae(S,e,m),w(e,K,m),ae(n,e,m),w(e,c,m),ae(_,e,m),w(e,R,m),ae(P,e,m),w(e,B,m),ae(k,e,m),D=!0,i||(E=[ue(I,"click",o[11]),ue(O,"click",o[12])],i=!0)},p(e,[m]){let le=l;l=fe(e),l===le?j[l].p(e,m):(Je(),Q(j[le],1,1,()=>{j[le]=null}),Me(),t=j[l],t?t.p(e,m):(t=j[l]=ne[l](e),t.c()),x(t,1),t.m(s.parentNode,s)),(!D||m&128&&g!==(g=de(`w-[80%] mx-auto ${e[7]} flex`)+" svelte-1w85bai"))&&d(a,"class",g),(!D||m&385)&&oe(a,"hidden",e[0]==null||e[8]==null),(!D||m&128&&A!==(A=de(`my-2 w-[80%] mx-auto ${e[7]}`)+" svelte-1w85bai"))&&d(N,"class",A),(!D||m&129)&&oe(N,"hidden",e[0]==null),e[3]?$?$.p(e,m):($=Re(e),$.c(),$.m(q,null)):$&&($.d(1),$=null)},i(e){D||(x(t),x(S.$$.fragment,e),x(n.$$.fragment,e),x(_.$$.fragment,e),x(P.$$.fragment,e),x(k.$$.fragment,e),D=!0)},o(e){Q(t),Q(S.$$.fragment,e),Q(n.$$.fragment,e),Q(_.$$.fragment,e),Q(P.$$.fragment,e),Q(k.$$.fragment,e),D=!1},d(e){j[l].d(e),e&&r(s),e&&r(a),o[19](null),e&&r(F),e&&r(N),e&&r(L),e&&r(q),$&&$.d(),e&&r(M),e&&r(Y),e&&r(J),r(z),e&&r(U),re(S,e),e&&r(K),re(n,e),e&&r(c),re(_,e),e&&r(R),re(P,e),e&&r(B),re(k,e),i=!1,Ye(E)}}}function cl(o,l,t){let s,a,f;be(o,W,n=>t(8,s=n)),be(o,Ke,n=>t(9,a=n)),be(o,Te,n=>t(10,f=n));const v=sl;let u,C,I,G,g=!1,F=!1,N,O,H=!0,A="";ze(async()=>{document.body.onclick=c=>{let _=document.getElementsByClassName("delete-column-button");for(let R=0;R<_.length;R++)_[R].remove()},ee(W,s=null,s);const n=await el();if(t(0,u=n.parsedTable),t(1,C=n.prefaceData),t(2,I=n.parsedInfo),t(3,G=n.parsedFooter),t(7,A="fade-in"),u){let c=ve();c=pe(u,c);try{ee(W,s=new v(N,{data:u,layout:"fitColumns",height:"500",reactiveData:!0,columns:c,movableColumns:!0}),s),he(a)}catch{console.log("some error occured while loading table's data; likely got cancelled"),ee(W,s=null,s)}}else if(f){let c=f;if(c.newLeaderboards.find(R=>R.dataset=="systems")){console.log("Leaderboard found in pr changes cookie");const R=Ve.parse(c.newLeaderboards[c.newLeaderboards.length-1].data,{mangle:!1,headerIds:!1});if(t(0,u=$e(R).results[0]),u!=null){console.log("Table found in pr changes cookie");let P=ve();P=pe(u,P);try{ee(W,s=new v(N,{data:u,layout:"fitColumns",height:"500",reactiveData:!0,columns:P,movableColumns:!0}),s),he(a)}catch{console.log("some error occured while loading table's data; likely got cancelled"),ee(W,s=null,s)}}else console.log("No table found")}else{ol("No leaderboard found","There is no leaderboard for this dataset"),t(6,H=!1),g=!1,F=!1;return}t(6,H=!1)}else console.log("No table found");t(6,H=!1)});function L(){me("add-new-column-systems")}function q(){me("add-new-row-systems")}Te.subscribe(n=>{if(n){if(n.lastChange==="column"){let c=n.newColumns[n.newColumns.length-1];console.log("Adding new column",c),ll(c,a)}else if(n.lastChange==="leaderboard"){const c=Ve.parse(n.newLeaderboards[n.newLeaderboards.length-1].data,{mangle:!1,headerIds:!1});if(t(0,u=$e(c).results[0]),u){let _=ve();_=pe(u,_);try{ee(W,s=new v(N,{data:u,layout:"fitColumns",height:"500",reactiveData:!0,columns:_,movableColumns:!0}),s),he(a)}catch{console.log("some error occured while loading table's data; likely got cancelled"),ee(W,s=null,s)}}else console.log("No table found - from currentPRChanges subscription");t(6,H=!1)}n.lastChange!==null&&tl(n),F&&!g&&(s==null||s.redraw(!0)),W.set(s)}});const M=n=>n.dataset===`${a.params.db}/${a.params.dataset}`,Y=n=>n.dataset===`${a.params.db}/${a.params.dataset}`,J=()=>{me(`add-new-leaderboard-${a.params.db}/${a.params.dataset}`)},z=()=>{me("delete-new-leaderboard-"+a.params.db+"/"+a.params.dataset)};function U(n){Ie[n?"unshift":"push"](()=>{O=n,t(5,O)})}const S=n=>{al(n)};function K(n){Ie[n?"unshift":"push"](()=>{N=n,t(4,N)})}return[u,C,I,G,N,O,H,A,s,a,f,L,q,M,Y,J,z,U,S,K]}class wl extends Oe{constructor(l){super(),Ue(this,l,cl,dl,He,{})}}export{wl as component};
