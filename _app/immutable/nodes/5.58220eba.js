import{s as Re,m as ue,r as Fe,c as pe,o as Me,d as Z,b as ke,h as Ce,n as ie}from"../chunks/scheduler.2739a3c5.js";import{S as Pe,i as Ue,s as L,g as h,r as te,c as N,h as v,j as R,f as i,x as X,G as Oe,u as le,k as c,D as ne,a as _,y as C,v as se,z as de,t as Q,b as qe,d as W,w as ae,H as Be,e as De,F as Se,p as ze,C as fe,m as Ae,n as He}from"../chunks/index.2bd5a6d6.js";import{A as Ge,a as Ke,b as Ye,c as Je,S as Qe,j as We,e as _e,s as be,k as Xe,p as Ie,d as Ze,g as et,T as tt,f as he,h as lt,D as st}from"../chunks/tabulator_esm.b0cc17d9.js";import{p as at}from"../chunks/stores.48a0b60a.js";import{a as J,c as Te,t as ce,b as nt}from"../chunks/lastParsedTable.008e9fc8.js";import{m as Le}from"../chunks/marked.esm.ed0f3e9f.js";import{f as me}from"../chunks/index.9075ae21.js";const{document:Ne}=et;function it(n){let e,t,l,a,p,k,d,$=n[2]&&!n[2].includes("404"),T,G,b,F,D,B=n[10]&&n[10].newLeaderboards.find(n[14])!=null,O,S,E,P,U,z="Double click on a row to see details",K,q=n[10]&&n[10].newColumns.find(n[13])!=null,M,V,Y,o;t=new st({props:{datasetName:null}});let u=n[1]&&n[0]&&$e(),m=$&&Ee(n);function A(r,y){return r[0]==null?dt:ot}let H=A(n),x=H(n),w=B&&Ve(n),g=q&&xe();return{c(){e=h("div"),te(t.$$.fragment),l=L(),u&&u.c(),a=L(),p=h("div"),k=L(),d=h("div"),m&&m.c(),G=L(),b=h("div"),F=h("div"),x.c(),D=L(),w&&w.c(),O=L(),S=h("div"),E=h("input"),P=L(),U=h("div"),U.textContent=z,K=L(),g&&g.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var y=R(e);le(t.$$.fragment,y),l=N(y),u&&u.l(y),a=N(y),p=v(y,"DIV",{class:!0}),R(p).forEach(i),k=N(y),d=v(y,"DIV",{class:!0});var re=R(d);m&&m.l(re),re.forEach(i),y.forEach(i),G=N(r),b=v(r,"DIV",{id:!0,class:!0});var j=R(b);F=v(j,"DIV",{class:!0});var oe=R(F);x.l(oe),oe.forEach(i),D=N(j),w&&w.l(j),O=N(j),S=v(j,"DIV",{class:!0});var I=R(S);E=v(I,"INPUT",{type:!0,class:!0,placeholder:!0,name:!0,id:!0}),P=N(I),U=v(I,"DIV",{class:!0,"data-svelte-h":!0}),X(U)!=="svelte-1lij4al"&&(U.textContent=z),I.forEach(i),K=N(j),g&&g.l(j),j.forEach(i),this.h()},h(){c(p,"class","divider w-[50%] mx-auto"),c(d,"class","prose text-justify mx-auto"),c(e,"class",""),c(F,"class","font-bold my-auto mx-20 text-2xl"),c(E,"type","text"),c(E,"class","input input-primary input-sm w-60 my-auto"),c(E,"placeholder","Filter ðŸ”Ž"),c(E,"name","filter"),c(E,"id","filter"),ne(E,"hidden",n[0]==null),c(U,"class","text-xs my-auto text-gray-600"),c(S,"class","flex space-x-4"),c(b,"id","leaderboard-header"),c(b,"class","flex justify-center my-4")},m(r,y){_(r,e,y),se(t,e,null),C(e,l),u&&u.m(e,null),C(e,a),C(e,p),C(e,k),C(e,d),m&&m.m(d,null),_(r,G,y),_(r,b,y),C(b,F),x.m(F,null),C(b,D),w&&w.m(b,null),C(b,O),C(b,S),C(S,E),n[17](E),C(S,P),C(S,U),C(b,K),g&&g.m(b,null),V=!0,Y||(o=de(E,"input",n[18]),Y=!0)},p(r,y){r[1]&&r[0]?u||(u=$e(),u.c(),u.m(e,a)):u&&(u.d(1),u=null),y&4&&($=r[2]&&!r[2].includes("404")),$?m?m.p(r,y):(m=Ee(r),m.c(),m.m(d,null)):m&&(m.d(1),m=null),H===(H=A(r))&&x?x.p(r,y):(x.d(1),x=H(r),x&&(x.c(),x.m(F,null))),y&1536&&(B=r[10]&&r[10].newLeaderboards.find(r[14])!=null),B?w?w.p(r,y):(w=Ve(r),w.c(),w.m(b,O)):w&&(w.d(1),w=null),(!V||y&1)&&ne(E,"hidden",r[0]==null),y&1536&&(q=r[10]&&r[10].newColumns.find(r[13])!=null),q?g||(g=xe(),g.c(),g.m(b,null)):g&&(g.d(1),g=null)},i(r){V||(W(t.$$.fragment,r),r&&Ce(()=>{V&&(T||(T=fe(e,me,{},!0)),T.run(1))}),r&&Ce(()=>{V&&(M||(M=fe(b,me,{},!0)),M.run(1))}),V=!0)},o(r){Q(t.$$.fragment,r),r&&(T||(T=fe(e,me,{},!1)),T.run(0)),r&&(M||(M=fe(b,me,{},!1)),M.run(0)),V=!1},d(r){r&&(i(e),i(G),i(b)),ae(t),u&&u.d(),m&&m.d(),r&&T&&T.end(),x.d(),w&&w.d(),n[17](null),g&&g.d(),r&&M&&M.end(),Y=!1,o()}}}function rt(n){let e,t='<div class="flex justify-center"><span class="loading loading-infinity loading-lg text-primary"></span></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-rhkr8p"&&(e.innerHTML=t),this.h()},h(){c(e,"class","h-screen w-screen flex flex-col justify-center")},m(l,a){_(l,e,a)},p:ie,i:ie,o:ie,d(l){l&&i(e)}}}function $e(n){let e,t="<h1>Dataset: Systems</h1>";return{c(){e=h("main"),e.innerHTML=t,this.h()},l(l){e=v(l,"MAIN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1c21er8"&&(e.innerHTML=t),this.h()},h(){c(e,"class","prose text-justify mx-auto mt-16")},m(l,a){_(l,e,a)},d(l){l&&i(e)}}}function Ee(n){let e,t,l;return{c(){e=new Be(!1),t=L(),l=h("div"),this.h()},l(a){e=Se(a,!1),t=N(a),l=v(a,"DIV",{class:!0}),R(l).forEach(i),this.h()},h(){e.a=t,c(l,"class","divider w-[50%] mx-auto")},m(a,p){e.m(n[2],a,p),_(a,t,p),_(a,l,p)},p(a,p){p&4&&e.p(a[2])},d(a){a&&(e.d(),i(t),i(l))}}}function ot(n){let e;return{c(){e=Ae("Leaderboard")},l(t){e=He(t,"Leaderboard")},m(t,l){_(t,e,l)},p:ie,d(t){t&&i(e)}}}function dt(n){let e,t,l,a="Submit a new leaderboard",p,k;return{c(){e=Ae(`No Leaderboard for this dataset yet

				`),t=h("div"),l=h("button"),l.textContent=a,this.h()},l(d){e=He(d,`No Leaderboard for this dataset yet

				`),t=v(d,"DIV",{class:!0});var $=R(t);l=v($,"BUTTON",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-o9blqd"&&(l.textContent=a),$.forEach(i),this.h()},h(){c(l,"class","btn btn-accent btn-wide"),c(t,"class","flex justify-center")},m(d,$){_(d,e,$),_(d,t,$),C(t,l),p||(k=de(l,"click",n[15]),p=!0)},p:ie,d(d){d&&(i(e),i(t)),p=!1,k()}}}function Ve(n){let e,t,l="Delete",a,p;return{c(){e=h("div"),t=h("button"),t.textContent=l,this.h()},l(k){e=v(k,"DIV",{class:!0});var d=R(e);t=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-ive5qc"&&(t.textContent=l),d.forEach(i),this.h()},h(){c(t,"class","btn btn-warning"),c(e,"class","my-auto mx-4")},m(k,d){_(k,e,d),C(e,t),a||(p=de(t,"click",n[16]),a=!0)},p:ie,d(k){k&&i(e),a=!1,p()}}}function xe(n){let e,t="Right click on your new column to delete it";return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-t5lca8"&&(e.textContent=t),this.h()},h(){c(e,"class","mx-4 italic text-xs my-auto text-gray-400")},m(l,a){_(l,e,a)},d(l){l&&i(e)}}}function je(n){let e,t;return{c(){e=new Be(!1),t=De(),this.h()},l(l){e=Se(l,!1),t=De(),this.h()},h(){e.a=t},m(l,a){e.m(n[3],l,a),_(l,t,a)},p(l,a){a&8&&e.p(l[3])},d(l){l&&(i(t),e.d())}}}function ut(n){let e,t,l,a,p,k,d,$,T,G="+",b,F,D,B,O="+",S,E,P,U,z,K,q,M,V,Y,o,u,m,A,H,x,w,g,r,y;const re=[rt,it],j=[];function oe(s,f){return s[6]?0:1}e=oe(n),t=j[e]=re[e](n);let I=n[3]&&je(n);return V=new Ge({props:{dataset:"systems"}}),o=new Ke({props:{dataset:"systems"}}),m=new Ye({props:{dataset:"systems"}}),H=new Je({props:{dataset:"systems"}}),w=new Qe({}),{c(){t.c(),l=L(),a=h("div"),p=h("div"),k=h("div"),d=L(),$=h("div"),T=h("button"),T.textContent=G,F=L(),D=h("div"),B=h("button"),B.textContent=O,E=L(),P=h("div"),I&&I.c(),U=L(),z=h("div"),K=L(),q=h("link"),M=L(),te(V.$$.fragment),Y=L(),te(o.$$.fragment),u=L(),te(m.$$.fragment),A=L(),te(H.$$.fragment),x=L(),te(w.$$.fragment),this.h()},l(s){t.l(s),l=N(s),a=v(s,"DIV",{id:!0,class:!0});var f=R(a);p=v(f,"DIV",{class:!0});var ee=R(p);k=v(ee,"DIV",{}),R(k).forEach(i),ee.forEach(i),d=N(f),$=v(f,"DIV",{class:!0});var ve=R($);T=v(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),X(T)!=="svelte-9l0pn5"&&(T.textContent=G),ve.forEach(i),f.forEach(i),F=N(s),D=v(s,"DIV",{class:!0});var we=R(D);B=v(we,"BUTTON",{class:!0,"data-svelte-h":!0}),X(B)!=="svelte-11yytkm"&&(B.textContent=O),we.forEach(i),E=N(s),P=v(s,"DIV",{class:!0});var ge=R(P);I&&I.l(ge),ge.forEach(i),U=N(s),z=v(s,"DIV",{class:!0}),R(z).forEach(i),K=N(s);const ye=Oe("svelte-1256386",Ne.head);q=v(ye,"LINK",{href:!0,rel:!0}),ye.forEach(i),M=N(s),le(V.$$.fragment,s),Y=N(s),le(o.$$.fragment,s),u=N(s),le(m.$$.fragment,s),A=N(s),le(H.$$.fragment,s),x=N(s),le(w.$$.fragment,s),this.h()},h(){c(p,"class","overflow-x-scroll w-full"),c(T,"class","btn btn-secondary h-full"),c($,"class","mx-2 flex items-center justify-center bg-reg-400"),c(a,"id","leaderboard-wrapper"),c(a,"class",b=ue(`w-[80%] mx-auto ${n[7]} flex`)+" svelte-1w85bai"),ne(a,"hidden",n[0]==null||n[8]==null),c(B,"class","btn btn-primary w-full"),c(D,"class",S=ue(`my-2 w-[80%] mx-auto ${n[7]}`)+" svelte-1w85bai"),ne(D,"hidden",n[0]==null),c(P,"class","prose text-justify mx-auto"),c(z,"class","my-20"),c(q,"href","https://unpkg.com/tabulator-tables@5.5.0/dist/css/tabulator_bootstrap5.min.css"),c(q,"rel","stylesheet")},m(s,f){j[e].m(s,f),_(s,l,f),_(s,a,f),C(a,p),C(p,k),n[19](k),C(a,d),C(a,$),C($,T),_(s,F,f),_(s,D,f),C(D,B),_(s,E,f),_(s,P,f),I&&I.m(P,null),_(s,U,f),_(s,z,f),_(s,K,f),C(Ne.head,q),_(s,M,f),se(V,s,f),_(s,Y,f),se(o,s,f),_(s,u,f),se(m,s,f),_(s,A,f),se(H,s,f),_(s,x,f),se(w,s,f),g=!0,r||(y=[de(T,"click",n[11]),de(B,"click",n[12])],r=!0)},p(s,[f]){let ee=e;e=oe(s),e===ee?j[e].p(s,f):(ze(),Q(j[ee],1,1,()=>{j[ee]=null}),qe(),t=j[e],t?t.p(s,f):(t=j[e]=re[e](s),t.c()),W(t,1),t.m(l.parentNode,l)),(!g||f&128&&b!==(b=ue(`w-[80%] mx-auto ${s[7]} flex`)+" svelte-1w85bai"))&&c(a,"class",b),(!g||f&385)&&ne(a,"hidden",s[0]==null||s[8]==null),(!g||f&128&&S!==(S=ue(`my-2 w-[80%] mx-auto ${s[7]}`)+" svelte-1w85bai"))&&c(D,"class",S),(!g||f&129)&&ne(D,"hidden",s[0]==null),s[3]?I?I.p(s,f):(I=je(s),I.c(),I.m(P,null)):I&&(I.d(1),I=null)},i(s){g||(W(t),W(V.$$.fragment,s),W(o.$$.fragment,s),W(m.$$.fragment,s),W(H.$$.fragment,s),W(w.$$.fragment,s),g=!0)},o(s){Q(t),Q(V.$$.fragment,s),Q(o.$$.fragment,s),Q(m.$$.fragment,s),Q(H.$$.fragment,s),Q(w.$$.fragment,s),g=!1},d(s){s&&(i(l),i(a),i(F),i(D),i(E),i(P),i(U),i(z),i(K),i(M),i(Y),i(u),i(A),i(x)),j[e].d(s),n[19](null),I&&I.d(),i(q),ae(V,s),ae(o,s),ae(m,s),ae(H,s),ae(w,s),r=!1,Fe(y)}}}function ft(n,e,t){let l,a,p;pe(n,J,o=>t(8,l=o)),pe(n,at,o=>t(9,a=o)),pe(n,Te,o=>t(10,p=o));const k=tt;let d,$,T,G,b=!1,F=!1,D,B,O=!0,S="";Me(async()=>{document.body.onclick=u=>{let m=document.getElementsByClassName("delete-column-button");for(let A=0;A<m.length;A++)m[A].remove()},Z(J,l=null,l);const o=await We();if(t(0,d=o.parsedTable),t(1,$=o.prefaceData),t(2,T=o.parsedInfo),t(3,G=o.parsedFooter),t(7,S="fade-in"),d){let u=he();u=_e(d,u);try{Z(J,l=new k(D,{data:d,layout:"fitColumns",height:"500",reactiveData:!0,columns:u,movableColumns:!0}),l),be(a)}catch{console.log("some error occured while loading table's data; likely got cancelled"),Z(J,l=null,l)}}else if(p){let u=p;if(u.newLeaderboards.find(A=>A.dataset=="systems")){console.log("Leaderboard found in pr changes cookie");const A=Le.parse(u.newLeaderboards[u.newLeaderboards.length-1].data,{mangle:!1,headerIds:!1});if(t(0,d=Ie(A).results[0]),d!=null){console.log("Table found in pr changes cookie");let H=he();H=_e(d,H);try{Z(J,l=new k(D,{data:d,layout:"fitColumns",height:"500",reactiveData:!0,columns:H,movableColumns:!0}),l),be(a)}catch{console.log("some error occured while loading table's data; likely got cancelled"),Z(J,l=null,l)}}else console.log("No table found")}else{nt("No leaderboard found","There is no leaderboard for this dataset"),t(6,O=!1),b=!1,F=!1;return}t(6,O=!1)}else console.log("No table found");t(6,O=!1)});function E(){ce("add-new-column-systems")}function P(){ce("add-new-row-systems")}Te.subscribe(o=>{if(o){if(o.lastChange==="column"){let u=o.newColumns[o.newColumns.length-1];console.log("Adding new column",u),Xe(u,a)}else if(o.lastChange==="leaderboard"){const u=Le.parse(o.newLeaderboards[o.newLeaderboards.length-1].data,{mangle:!1,headerIds:!1});if(t(0,d=Ie(u).results[0]),d){let m=he();m=_e(d,m);try{Z(J,l=new k(D,{data:d,layout:"fitColumns",height:"500",reactiveData:!0,columns:m,movableColumns:!0}),l),be(a)}catch{console.log("some error occured while loading table's data; likely got cancelled"),Z(J,l=null,l)}}else console.log("No table found - from currentPRChanges subscription");t(6,O=!1)}o.lastChange!==null&&Ze(o),F&&!b&&(l==null||l.redraw(!0)),J.set(l)}});const U=o=>o.dataset===`${a.params.db}/${a.params.dataset}`,z=o=>o.dataset===`${a.params.db}/${a.params.dataset}`,K=()=>{ce(`add-new-leaderboard-${a.params.db}/${a.params.dataset}`)},q=()=>{ce("delete-new-leaderboard-"+a.params.db+"/"+a.params.dataset)};function M(o){ke[o?"unshift":"push"](()=>{B=o,t(5,B)})}const V=o=>{lt(o)};function Y(o){ke[o?"unshift":"push"](()=>{D=o,t(4,D)})}return[d,$,T,G,D,B,O,S,l,a,p,E,P,U,z,K,q,M,V,Y]}class wt extends Pe{constructor(e){super(),Ue(this,e,ft,ut,Re,{})}}export{wt as component};
