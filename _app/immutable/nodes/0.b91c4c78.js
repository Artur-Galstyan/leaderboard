import{s as Ae,n as Ce,r as ue,c as se,o as Ge,d as x,b as Ke,e as Qe,u as We,g as Xe,f as Ze,h as Pe}from"../chunks/scheduler.2739a3c5.js";import{S as Ye,i as xe,g as _,s as k,h as m,j as C,x as E,c as y,f as h,k as b,a as I,y as c,z as q,A as W,m as D,n as U,B as oe,o as ee,e as ke,r as $e,u as et,v as tt,d as ne,t as de,b as lt,w as nt,C as ye,p as st}from"../chunks/index.2bd5a6d6.js";import{c as F,a as ce,l as ot,S as Te,t as le,G as at,n as it}from"../chunks/lastParsedTable.008e9fc8.js";import{e as K,f as Ne}from"../chunks/index.9075ae21.js";import{p as rt}from"../chunks/stores.48a0b60a.js";import"../chunks/index.8bb7aefe.js";const dt=!0,Ct=Object.freeze(Object.defineProperty({__proto__:null,prerender:dt},Symbol.toStringTag,{value:"Module"}));function Le(i,s,r){const t=i.slice();return t[20]=s[r],t}function Re(i,s,r){const t=i.slice();return t[23]=s[r],t}function Oe(i,s,r){const t=i.slice();return t[26]=s[r],t}function Ie(i,s,r){const t=i.slice();return t[29]=s[r],t}function Ee(i,s,r){const t=i.slice();return t[32]=s[r],t}function Se(i){let s,r,t,d=K(i[2]),l=[];for(let n=0;n<d.length;n+=1)l[n]=De(Ee(i,d,n));return{c(){s=_("div"),r=D(`Previously Submitted Issues:
				`),t=_("div");for(let n=0;n<l.length;n+=1)l[n].c()},l(n){s=m(n,"DIV",{});var a=C(s);r=U(a,`Previously Submitted Issues:
				`),t=m(a,"DIV",{});var e=C(t);for(let o=0;o<l.length;o+=1)l[o].l(e);e.forEach(h),a.forEach(h)},m(n,a){I(n,s,a),c(s,r),c(s,t);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(n,a){if(a[0]&4){d=K(n[2]);let e;for(e=0;e<d.length;e+=1){const o=Ee(n,d,e);l[e]?l[e].p(o,a):(l[e]=De(o),l[e].c(),l[e].m(t,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=d.length}},d(n){n&&h(s),oe(l,n)}}}function De(i){let s,r,t,d=i[32]+"",l,n,a,e,o,u="Discard",w,L,R;function N(){return i[9](i[32])}return{c(){s=_("div"),r=_("div"),t=_("a"),l=D(d),a=k(),e=_("div"),o=_("button"),o.textContent=u,w=k(),this.h()},l(p){s=m(p,"DIV",{class:!0});var f=C(s);r=m(f,"DIV",{class:!0});var O=C(r);t=m(O,"A",{href:!0});var T=C(t);l=U(T,d),T.forEach(h),O.forEach(h),a=y(f),e=m(f,"DIV",{});var Q=C(e);o=m(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),E(o)!=="svelte-n51t1l"&&(o.textContent=u),Q.forEach(h),w=y(f),f.forEach(h),this.h()},h(){b(t,"href",n=i[32]),b(r,"class",""),b(o,"class","btn btn-xs btn-primary btn-outline"),b(s,"class","flex space-x-4")},m(p,f){I(p,s,f),c(s,r),c(r,t),c(t,l),c(s,a),c(s,e),c(e,o),c(s,w),L||(R=q(o,"click",W(N)),L=!0)},p(p,f){i=p,f[0]&4&&d!==(d=i[32]+"")&&ee(l,d),f[0]&4&&n!==(n=i[32])&&b(t,"href",n)},d(p){p&&h(s),L=!1,R()}}}function Ue(i){let s,r,t,d,l=i[3].newRows.length>0&&Be(i),n=i[3].newColumns.length>0&&Ve(i),a=i[3].changedRows.length>0&&He(i),e=i[3].newLeaderboards.length>0&&Je(i);return{c(){l&&l.c(),s=k(),n&&n.c(),r=k(),a&&a.c(),t=k(),e&&e.c(),d=ke()},l(o){l&&l.l(o),s=y(o),n&&n.l(o),r=y(o),a&&a.l(o),t=y(o),e&&e.l(o),d=ke()},m(o,u){l&&l.m(o,u),I(o,s,u),n&&n.m(o,u),I(o,r,u),a&&a.m(o,u),I(o,t,u),e&&e.m(o,u),I(o,d,u)},p(o,u){o[3].newRows.length>0?l?l.p(o,u):(l=Be(o),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null),o[3].newColumns.length>0?n?n.p(o,u):(n=Ve(o),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null),o[3].changedRows.length>0?a?a.p(o,u):(a=He(o),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),o[3].newLeaderboards.length>0?e?e.p(o,u):(e=Je(o),e.c(),e.m(d.parentNode,d)):e&&(e.d(1),e=null)},d(o){o&&(h(s),h(r),h(t),h(d)),l&&l.d(o),n&&n.d(o),a&&a.d(o),e&&e.d(o)}}}function Be(i){let s,r,t,d=K(i[3].newRows),l=[];for(let n=0;n<d.length;n+=1)l[n]=je(Ie(i,d,n));return{c(){s=_("div"),r=D(`New Rows:
						`),t=_("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){s=m(n,"DIV",{class:!0});var a=C(s);r=U(a,`New Rows:
						`),t=m(a,"UL",{});var e=C(t);for(let o=0;o<l.length;o+=1)l[o].l(e);e.forEach(h),a.forEach(h),this.h()},h(){b(s,"class","my-10")},m(n,a){I(n,s,a),c(s,r),c(s,t);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(n,a){if(a[0]&184){d=K(n[3].newRows);let e;for(e=0;e<d.length;e+=1){const o=Ie(n,d,e);l[e]?l[e].p(o,a):(l[e]=je(o),l[e].c(),l[e].m(t,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=d.length}},d(n){n&&h(s),oe(l,n)}}}function je(i){let s,r=i[29].dataset+"",t,d,l,n="Expand",a,e,o="Undo",u,w,L;function R(){return i[10](i[29])}function N(){return i[11](i[29])}return{c(){s=_("li"),t=D(r),d=D(` -
									`),l=_("button"),l.textContent=n,a=k(),e=_("button"),e.textContent=o,u=k(),this.h()},l(p){s=m(p,"LI",{});var f=C(s);t=U(f,r),d=U(f,` -
									`),l=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-1flhmru"&&(l.textContent=n),a=y(f),e=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-15bg0fc"&&(e.textContent=o),u=y(f),f.forEach(h),this.h()},h(){b(l,"class","btn btn-info btn-xs"),b(e,"class","btn btn-error btn-xs")},m(p,f){I(p,s,f),c(s,t),c(s,d),c(s,l),c(s,a),c(s,e),c(s,u),w||(L=[q(l,"click",W(R)),q(e,"click",W(N))],w=!0)},p(p,f){i=p,f[0]&8&&r!==(r=i[29].dataset+"")&&ee(t,r)},d(p){p&&h(s),w=!1,ue(L)}}}function Ve(i){let s,r,t,d=K(i[3].newColumns),l=[];for(let n=0;n<d.length;n+=1)l[n]=Me(Oe(i,d,n));return{c(){s=_("div"),r=D(`New Columns:
						`),t=_("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){s=m(n,"DIV",{class:!0});var a=C(s);r=U(a,`New Columns:
						`),t=m(a,"UL",{});var e=C(t);for(let o=0;o<l.length;o+=1)l[o].l(e);e.forEach(h),a.forEach(h),this.h()},h(){b(s,"class","my-10")},m(n,a){I(n,s,a),c(s,r),c(s,t);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(n,a){if(a[0]&56){d=K(n[3].newColumns);let e;for(e=0;e<d.length;e+=1){const o=Oe(n,d,e);l[e]?l[e].p(o,a):(l[e]=Me(o),l[e].c(),l[e].m(t,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=d.length}},d(n){n&&h(s),oe(l,n)}}}function Me(i){let s,r=i[26].dataset+"",t,d,l=i[26].column+"",n,a,e=i[26].numerical?"Numerical":"Non-Numerical",o,u,w,L="Undo",R,N,p;function f(){return i[12](i[26])}return{c(){s=_("li"),t=D(r),d=D(" - "),n=D(l),a=D(" - "),o=D(e),u=k(),w=_("button"),w.textContent=L,R=k(),this.h()},l(O){s=m(O,"LI",{});var T=C(s);t=U(T,r),d=U(T," - "),n=U(T,l),a=U(T," - "),o=U(T,e),u=y(T),w=m(T,"BUTTON",{class:!0,"data-svelte-h":!0}),E(w)!=="svelte-i7mejg"&&(w.textContent=L),R=y(T),T.forEach(h),this.h()},h(){b(w,"class","btn btn-xs btn-error")},m(O,T){I(O,s,T),c(s,t),c(s,d),c(s,n),c(s,a),c(s,o),c(s,u),c(s,w),c(s,R),N||(p=q(w,"click",W(f)),N=!0)},p(O,T){i=O,T[0]&8&&r!==(r=i[26].dataset+"")&&ee(t,r),T[0]&8&&l!==(l=i[26].column+"")&&ee(n,l),T[0]&8&&e!==(e=i[26].numerical?"Numerical":"Non-Numerical")&&ee(o,e)},d(O){O&&h(s),N=!1,p()}}}function He(i){let s,r,t,d=K(i[3].changedRows),l=[];for(let n=0;n<d.length;n+=1)l[n]=Fe(Re(i,d,n));return{c(){s=_("div"),r=D(`Changed Rows:
						`),t=_("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){s=m(n,"DIV",{class:!0});var a=C(s);r=U(a,`Changed Rows:
						`),t=m(a,"UL",{});var e=C(t);for(let o=0;o<l.length;o+=1)l[o].l(e);e.forEach(h),a.forEach(h),this.h()},h(){b(s,"class","my-10")},m(n,a){I(n,s,a),c(s,r),c(s,t);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(n,a){if(a[0]&248){d=K(n[3].changedRows);let e;for(e=0;e<d.length;e+=1){const o=Re(n,d,e);l[e]?l[e].p(o,a):(l[e]=Fe(o),l[e].c(),l[e].m(t,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=d.length}},d(n){n&&h(s),oe(l,n)}}}function Fe(i){let s,r=i[23].dataset+"",t,d,l,n="Expand",a,e,o="Undo",u,w,L;function R(){return i[13](i[23])}function N(){return i[14](i[23])}return{c(){s=_("li"),t=D(r),d=D(` -
									`),l=_("button"),l.textContent=n,a=k(),e=_("button"),e.textContent=o,u=k(),this.h()},l(p){s=m(p,"LI",{});var f=C(s);t=U(f,r),d=U(f,` -
									`),l=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-1uoli8g"&&(l.textContent=n),a=y(f),e=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-zny8qg"&&(e.textContent=o),u=y(f),f.forEach(h),this.h()},h(){b(l,"class","btn btn-info btn-xs"),b(e,"class","btn btn-error btn-xs")},m(p,f){I(p,s,f),c(s,t),c(s,d),c(s,l),c(s,a),c(s,e),c(s,u),w||(L=[q(l,"click",W(R)),q(e,"click",W(N))],w=!0)},p(p,f){i=p,f[0]&8&&r!==(r=i[23].dataset+"")&&ee(t,r)},d(p){p&&h(s),w=!1,ue(L)}}}function Je(i){let s,r,t,d=K(i[3].newLeaderboards),l=[];for(let n=0;n<d.length;n+=1)l[n]=qe(Le(i,d,n));return{c(){s=_("div"),r=D(`New Leaderboards:
						`),t=_("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){s=m(n,"DIV",{class:!0});var a=C(s);r=U(a,`New Leaderboards:
						`),t=m(a,"UL",{});var e=C(t);for(let o=0;o<l.length;o+=1)l[o].l(e);e.forEach(h),a.forEach(h),this.h()},h(){b(s,"class","my-10")},m(n,a){I(n,s,a),c(s,r),c(s,t);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null)},p(n,a){if(a[0]&25){d=K(n[3].newLeaderboards);let e;for(e=0;e<d.length;e+=1){const o=Le(n,d,e);l[e]?l[e].p(o,a):(l[e]=qe(o),l[e].c(),l[e].m(t,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=d.length}},d(n){n&&h(s),oe(l,n)}}}function qe(i){let s,r=i[20].dataset+"",t,d,l,n="Raw Table Data",a,e,o="Undo",u,w,L;function R(){return i[15](i[20])}function N(){return i[16](i[20])}return{c(){s=_("li"),t=D(r),d=D(` -
									`),l=_("button"),l.textContent=n,a=k(),e=_("button"),e.textContent=o,u=k(),this.h()},l(p){s=m(p,"LI",{});var f=C(s);t=U(f,r),d=U(f,` -
									`),l=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-1u4ulcq"&&(l.textContent=n),a=y(f),e=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1sbtwq4"&&(e.textContent=o),u=y(f),f.forEach(h),this.h()},h(){b(l,"class","btn btn-xs btn-info"),b(e,"class","btn btn-xs btn-error")},m(p,f){I(p,s,f),c(s,t),c(s,d),c(s,l),c(s,a),c(s,e),c(s,u),w||(L=[q(l,"click",W(R)),q(e,"click",W(N))],w=!0)},p(p,f){i=p,f[0]&8&&r!==(r=i[20].dataset+"")&&ee(t,r)},d(p){p&&h(s),w=!1,ue(L)}}}function ct(i){let s,r,t,d,l="Your Changes",n,a,e="Discard all changes",o,u,w,L,R,N,p="Submit",f,O,T="<button>close</button>",Q,J,H,X,g="Are you sure?",v,B,G="Do you want to discard <b>all</b> your changes? This cannot be undone.",j,Y,z,me="Yes",fe,$,ge="No",he,Z,be="<button>close</button>",_e,pe,V=i[2]&&i[2].length>0&&Se(i),M=i[3]&&Ue(i);return{c(){s=_("dialog"),r=_("form"),t=_("div"),d=_("h3"),d.textContent=l,n=k(),a=_("button"),a.textContent=e,o=k(),V&&V.c(),u=k(),w=_("div"),M&&M.c(),L=k(),R=_("div"),N=_("button"),N.textContent=p,f=k(),O=_("form"),O.innerHTML=T,Q=k(),J=_("dialog"),H=_("form"),X=_("h3"),X.textContent=g,v=k(),B=_("p"),B.innerHTML=G,j=k(),Y=_("div"),z=_("button"),z.textContent=me,fe=k(),$=_("button"),$.textContent=ge,he=k(),Z=_("form"),Z.innerHTML=be,this.h()},l(S){s=m(S,"DIALOG",{id:!0,class:!0});var A=C(s);r=m(A,"FORM",{method:!0,class:!0});var P=C(r);t=m(P,"DIV",{class:!0});var ae=C(t);d=m(ae,"H3",{class:!0,"data-svelte-h":!0}),E(d)!=="svelte-l0kkzd"&&(d.textContent=l),n=y(ae),a=m(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),E(a)!=="svelte-1wj7p38"&&(a.textContent=e),ae.forEach(h),o=y(P),V&&V.l(P),u=y(P),w=m(P,"DIV",{});var we=C(w);M&&M.l(we),we.forEach(h),L=y(P),R=m(P,"DIV",{class:!0});var ve=C(R);N=m(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),E(N)!=="svelte-k5ccyb"&&(N.textContent=p),ve.forEach(h),P.forEach(h),f=y(A),O=m(A,"FORM",{method:!0,class:!0,"data-svelte-h":!0}),E(O)!=="svelte-5gpmjx"&&(O.innerHTML=T),A.forEach(h),Q=y(S),J=m(S,"DIALOG",{id:!0,class:!0});var ie=C(J);H=m(ie,"FORM",{method:!0,class:!0});var te=C(H);X=m(te,"H3",{class:!0,"data-svelte-h":!0}),E(X)!=="svelte-17aako"&&(X.textContent=g),v=y(te),B=m(te,"P",{class:!0,"data-svelte-h":!0}),E(B)!=="svelte-r6ov24"&&(B.innerHTML=G),j=y(te),Y=m(te,"DIV",{class:!0});var re=C(Y);z=m(re,"BUTTON",{class:!0,"data-svelte-h":!0}),E(z)!=="svelte-145w5b"&&(z.textContent=me),fe=y(re),$=m(re,"BUTTON",{class:!0,"data-svelte-h":!0}),E($)!=="svelte-1h1j03q"&&($.textContent=ge),re.forEach(h),te.forEach(h),he=y(ie),Z=m(ie,"FORM",{method:!0,class:!0,"data-svelte-h":!0}),E(Z)!=="svelte-5gpmjx"&&(Z.innerHTML=be),ie.forEach(h),this.h()},h(){b(d,"class","font-bold text-lg"),b(a,"class","btn btn-warning btn-sm"),b(t,"class","flex justify-between"),b(N,"class","btn btn-primary"),b(R,"class","flex justify-center"),b(r,"method","dialog"),b(r,"class","modal-box w-11/12 max-w-5xl"),b(O,"method","dialog"),b(O,"class","modal-backdrop"),b(s,"id","your-changes-dialog"),b(s,"class","modal"),b(X,"class","font-bold text-lg"),b(B,"class","py-4"),b(z,"class","btn btn-sm btn-error"),b($,"class","btn btn-sm btn-secondary"),b(Y,"class","flex justify-evenly"),b(H,"method","dialog"),b(H,"class","modal-box"),b(Z,"method","dialog"),b(Z,"class","modal-backdrop"),b(J,"id","are-you-sure-discard"),b(J,"class","modal")},m(S,A){I(S,s,A),c(s,r),c(r,t),c(t,d),c(t,n),c(t,a),c(r,o),V&&V.m(r,null),c(r,u),c(r,w),M&&M.m(w,null),c(r,L),c(r,R),c(R,N),c(s,f),c(s,O),i[18](s),I(S,Q,A),I(S,J,A),c(J,H),c(H,X),c(H,v),c(H,B),c(H,j),c(H,Y),c(Y,z),c(Y,fe),c(Y,$),c(J,he),c(J,Z),_e||(pe=[q(a,"click",W(i[8])),q(N,"click",i[17]),q(z,"click",i[19])],_e=!0)},p(S,A){S[2]&&S[2].length>0?V?V.p(S,A):(V=Se(S),V.c(),V.m(r,u)):V&&(V.d(1),V=null),S[3]?M?M.p(S,A):(M=Ue(S),M.c(),M.m(w,null)):M&&(M.d(1),M=null)},i:Ce,o:Ce,d(S){S&&(h(s),h(Q),h(J)),V&&V.d(),M&&M.d(),i[18](null),_e=!1,ue(pe)}}}function ut(i,s,r){let t,d,l,n;se(i,F,g=>r(3,t=g)),se(i,rt,g=>r(4,d=g)),se(i,ce,g=>r(5,l=g)),se(i,ot,g=>r(6,n=g));let a,e,o=[];async function u(g){let v=JSON.parse(JSON.stringify(g)),B=Object.keys(v),G="";B.forEach(j=>{j!=="id"&&(G+=`<div>${j}</div> <div>${v[j]}</div>`)}),await Te.fire({title:"Row",html:`<div class="grid grid-cols-2">
												${G}</div>`.replace(/,/g,""),target:a,showClass:{popup:"animate__animated animate__fadeIn animate__faster"},hideClass:{popup:"animate__animated animate__fadeOut animate__faster"},position:"top"})}Ge(()=>{r(2,o=JSON.parse(localStorage.getItem("pr-issues")??"[]")||[])});const w=()=>{le("are-you-sure-discard")},L=g=>{r(2,o=o.filter(v=>v!==g)),localStorage.setItem("pr-issues",JSON.stringify(o))},R=async g=>{u(g.row)},N=g=>{if(t){if(console.log("Deleting new row"),(g.dataset===d.params.db+"/"+d.params.dataset||d.route.id==="/systems"&&g.dataset==="systems")&&l!==null){let v=l.getRow(g.row.id);v!==void 0&&(console.log("Found row to delete",v),l.deleteRow(v),l.redraw(!0),ce.set(l))}x(F,t.newRows=t.newRows.filter(v=>v!==g),t),x(F,t.lastChange="row deleted",t),t.changedRows.length===0&&t.newRows.length===0&&t.newColumns.length===0&&t.newLeaderboards.length===0&&le("your-changes-dialog")}},p=g=>{console.log("Deleting new column"),(g.dataset===d.params.db+"/"+d.params.dataset||d.route.id==="/systems"&&g.dataset==="systems")&&l!==null&&(l.deleteColumn(g.column),l.redraw(!0),ce.set(l),t!==null&&(x(F,t.newColumns=t==null?void 0:t.newColumns.filter(v=>v!==g),t),x(F,t.lastChange="column deleted",t))),(t==null?void 0:t.changedRows.length)===0&&(t==null?void 0:t.newRows.length)===0&&(t==null?void 0:t.newColumns.length)===0&&(t==null?void 0:t.newLeaderboards.length)===0&&le("your-changes-dialog")},f=async g=>{u(g.row)},O=g=>{if(t){if(console.log("Deleting changed row"),(g.dataset===d.params.db+"/"+d.params.dataset||d.route.id==="/systems"&&g.dataset==="systems")&&l!==null){let v=l.getRow(g.row.id);if(v!==void 0){console.log("Found row to revert");let B=n.find(G=>G.id===v.getIndex());B!==void 0&&(console.log("Found original row",B),l==null||l.updateData([B]),l.redraw(!0),ce.set(l))}}x(F,t.changedRows=t.changedRows.filter(v=>v!==g),t),x(F,t.lastChange="row reverted",t),t.changedRows.length===0&&t.newRows.length===0&&t.newColumns.length===0&&t.newLeaderboards.length===0&&le("your-changes-dialog")}},T=async g=>{await Te.fire({title:"New Table",html:`<div> ${g.data} </div>`,target:a,showClass:{popup:"animate__animated animate__fadeIn animate__faster"},hideClass:{popup:"animate__animated animate__fadeOut animate__faster"},position:"top"})},Q=g=>{t&&(console.log("Deleting new leaderboard"),g.dataset===d.params.db+"/"+d.params.dataset?(x(F,t.newLeaderboards=t.newLeaderboards.filter(v=>v.dataset!==g.dataset),t),x(F,t.lastChange="leaderboard deleted",t),window.location.reload()):(x(F,t.newLeaderboards=t.newLeaderboards.filter(v=>v.dataset!==g.dataset),t),x(F,t.lastChange="leaderboard deleted",t)),t.changedRows.length===0&&t.newRows.length===0&&t.newColumns.length===0&&t.newLeaderboards.length===0&&le("your-changes-dialog"))},J=async()=>{var B,G;r(1,e={}),r(1,e.newColumns=t==null?void 0:t.newColumns,e),r(1,e.newLeaderboards=t==null?void 0:t.newLeaderboards,e),r(1,e.newRows=[],e),r(1,e.changedRows=[],e),(B=t==null?void 0:t.newRows)==null||B.forEach(j=>{console.log(j.row),e.newRows.push({dataset:j.dataset,row:j.row})}),(G=t==null?void 0:t.changedRows)==null||G.forEach(j=>{console.log(j.row),e.changedRows.push({dataset:j.dataset,row:j.row})});let v=await(await fetch(at,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newColumns:e.newColumns,newRows:e.newRows,changedRows:e.changedRows,newLeaderboards:e.newLeaderboards})})).json();if(console.log(v),v.status==="success"){it("Success","Your changes have been submitted as an issue. You can track the progress of your changes on GitHub.");let Y=JSON.parse(v.response).html_url,z=localStorage.getItem("pr-issues");r(2,o=z?JSON.parse(z):[]),o.push(Y),localStorage.setItem("pr-issues",JSON.stringify(o))}};function H(g){Ke[g?"unshift":"push"](()=>{a=g,r(0,a)})}return[a,e,o,t,d,l,n,u,w,L,R,N,p,f,O,T,Q,J,H,()=>{localStorage.removeItem("pr-changes"),window.location.reload()}]}class ft extends Ye{constructor(s){super(),xe(this,s,ut,ct,Ae,{},null,[-1,-1])}}function ze(i){let s,r="Your Changes",t,d,l,n;return{c(){s=_("button"),s.textContent=r,this.h()},l(a){s=m(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-1w47kw6"&&(s.textContent=r),this.h()},h(){b(s,"class","btn")},m(a,e){I(a,s,e),d=!0,l||(n=q(s,"click",i[3]),l=!0)},i(a){d||(a&&Pe(()=>{d&&(t||(t=ye(s,Ne,{},!0)),t.run(1))}),d=!0)},o(a){a&&(t||(t=ye(s,Ne,{},!1)),t.run(0)),d=!1},d(a){a&&h(s),a&&t&&t.end(),l=!1,n()}}}function ht(i){let s,r,t,d,l,n=i[0]&&(i[0].newColumns.length>0||i[0].newRows.length>0||i[0].newLeaderboards.length>0||i[0].changedRows.length>0)&&ze(i);const a=i[2].default,e=Qe(a,i,i[1],null);return d=new ft({}),{c(){s=_("div"),n&&n.c(),r=k(),e&&e.c(),t=k(),$e(d.$$.fragment),this.h()},l(o){s=m(o,"DIV",{class:!0});var u=C(s);n&&n.l(u),u.forEach(h),r=y(o),e&&e.l(o),t=y(o),et(d.$$.fragment,o),this.h()},h(){b(s,"class","fixed top-10 right-10")},m(o,u){I(o,s,u),n&&n.m(s,null),I(o,r,u),e&&e.m(o,u),I(o,t,u),tt(d,o,u),l=!0},p(o,[u]){o[0]&&(o[0].newColumns.length>0||o[0].newRows.length>0||o[0].newLeaderboards.length>0||o[0].changedRows.length>0)?n?u&1&&ne(n,1):(n=ze(o),n.c(),ne(n,1),n.m(s,null)):n&&(st(),de(n,1,1,()=>{n=null}),lt()),e&&e.p&&(!l||u&2)&&We(e,a,o,o[1],l?Ze(a,o[1],u,null):Xe(o[1]),null)},i(o){l||(ne(n),ne(e,o),ne(d.$$.fragment,o),l=!0)},o(o){de(n),de(e,o),de(d.$$.fragment,o),l=!1},d(o){o&&(h(s),h(r),h(t)),n&&n.d(),e&&e.d(o),nt(d,o)}}}function _t(i,s,r){let t;se(i,F,a=>r(0,t=a));let{$$slots:d={},$$scope:l}=s;Ge(()=>{let a=localStorage.getItem("pr-changes");if(a){console.log("Found 'pr-changes' cookie, setting currentPRChanges");let e=JSON.parse(a);e.lastChange=null,F.set(e)}});const n=()=>{le("your-changes-dialog")};return i.$$set=a=>{"$$scope"in a&&r(1,l=a.$$scope)},[t,l,d,n]}class kt extends Ye{constructor(s){super(),xe(this,s,_t,ht,Ae,{})}}export{kt as component,Ct as universal};
